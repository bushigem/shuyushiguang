```markdown
# 项目安装说明 - 书语时光

## 1. 先决条件

*   **Git:** 用于克隆代码仓库。
*   **Python:** (推荐 3.8 或更高版本) 用于运行后端 Django 项目。
*   **pip:** Python 包管理器 (通常随 Python 一起安装)。
*   **Node.js:** (推荐 LTS 版本) 用于运行前端 Vue 项目。
*   **npm** 或 **yarn:** Node.js 包管理器 (npm 随 Node.js 一起安装)。
*   **MySQL 数据库:** 需要一个正在运行的 MySQL 数据库实例。你可以本地安装，或使用 Docker。

## 2. 获取代码

打开终端或命令提示符，克隆你的 GitHub 仓库到本地：

```bash
git clone https://github.com/bushigem/shuyushiguang.git
 ```
```

```bash
cd library_management
 ```

## 3. 后端设置 (Django)
1. 导航到后端目录:
   
   ```bash
   cd backend
    ```
2. 创建并激活 Python 虚拟环境 (推荐):
   
   ```bash
   python -m venv venv
    ```
   
   ```bash
   venv\Scripts\activate
    ```
   
   (之后所有后端相关的 pip 和 python 命令都在激活的虚拟环境中执行)
3. 安装依赖:
   
   - (如果还没有 requirements.txt ) 你需要先生成它：
     ```bash
     pip freeze > requirements.txt
      ```
      注意：这会包含你当前环境的所有包，最好手动整理一个干净的 requirements.txt ，只包含项目必要的依赖，例如：
     ```plaintext
     Django
     djangorestframework
     django-filter
     django-cors-headers
     python-dotenv
     mysqlclient # 或者 PyMySQL，根据你的数据库驱动
     simpleui
     # 添加其他必要的依赖...
      ```
     ```
   - 安装依赖：
     ```bash
     pip install -r requirements.txt
      ```
     ```
4. 配置环境变量:
   
   - 在 backend 目录下创建一个名为 .env 的文件。
   - 根据 settings.py ，添加以下内容到 .env 文件，并替换为你自己的值：
     ```plaintext
     DJANGO_SECRET_KEY='你的Django密钥'
     DEEPSEEK_API_KEY='你的DeepSeek API密钥'
     # 推荐将数据库密码也移到这里
     # DB_PASSWORD='你的数据库密码'
      ```
     ```
   - (可选) 如果你将数据库密码移到了 .env 文件，需要修改 settings.py 中的 DATABASES 配置，使用 os.getenv('DB_PASSWORD') 来获取密码。
5. 数据库设置:
   
   - 确保你的 MySQL 服务正在运行。
   - 在 MySQL 中创建一个数据库，例如 library_management_system (与 settings.py 中的 NAME 保持一致)。
   - 检查 settings.py 中的 DATABASES 配置，确保 NAME , USER , PASSWORD (如果未移到 .env ), HOST , PORT (根据你的 MySQL 实例设置，截图显示为 3307) 都正确。
6. 执行数据库迁移:
   
   ```bash
   python manage.py migrate
    ```
7. 创建超级用户 (可选, 用于访问后台管理):
   
   ```bash
   python manage.py createsuperuser
    ```
   
   按照提示设置用户名、邮箱和密码。
8. 运行后端开发服务器:
   
   ```bash
   python manage.py runserver
    ```
   
   默认情况下，后端服务将在 http://127.0.0.1:8000/ 运行。
## 4. 前端设置 (Vue)
1. 打开新的终端或命令提示符 (保持后端服务器运行)。
2. 导航到前端目录:
   
   ```bash
   cd ..\frontend
    ```
   
   (如果你还在 backend 目录下)
3. 安装依赖:
   
   ```bash
   npm install
    ```
   
   或者，如果你使用 yarn:
   
   ```bash
   yarn install
    ```
4. 配置 API 地址 (如果需要):
   
   - 检查前端项目中配置 Axios 实例的文件 (例如 src/main.js 或专门的 API 配置文件)。
   - 确保 baseURL 指向你的后端服务器地址 ( http://127.0.0.1:8000 )。
5. 运行前端开发服务器:
   
   ```bash
   npm run dev
    ```
   
   或者，如果你使用 yarn:
   
   ```bash
   yarn dev
    ```
   
   终端会显示前端应用的访问地址，通常是 http://localhost:5173 或类似的端口。
## 5. 访问应用
在浏览器中打开前端开发服务器提供的地址 (例如 http://localhost:5173 )，你应该能看到“书语时光”的应用界面了。