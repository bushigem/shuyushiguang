# 图书借阅平台后端接口文档
## 1. 用户相关接口
### 1.1 用户注册
- POST /api/users/users/
- 请求体 （JSON）：
  ```json
  {
    "username": "string",
    "name": "string",
    "password": "string",
    "role": "student|admin|super_admin",
    "department": "string",
    "position": "string",
    "student_id": "string",
    "email": "string",
    "phone": "string"
  }
   ```
  ```
- 返回 ：用户信息
### 1.2 用户登录
- POST /api-auth/login/
- 请求体 ：
  - username
  - password
- 返回 ：登录状态、用户信息、token（如有）
### 1.3 获取用户列表（管理员权限）
- GET /api/users/users/
- 参数 ：分页、筛选
- 返回 ：用户列表
### 1.4 获取/修改/删除单个用户
- GET /api/users/users/{id}/
- PUT/PATCH /api/users/users/{id}/
- DELETE /api/users/users/{id}/
## 2. 图书相关接口
### 2.1 获取图书列表
- GET /api/books/books/
- 参数 ：分页、筛选（如书名、作者、ISBN等）
- 返回 ：图书列表
### 2.2 获取/修改/删除单本图书
- GET /api/books/books/{id}/
- PUT/PATCH /api/books/books/{id}/
- DELETE /api/books/books/{id}/
### 2.3 新增图书（管理员权限）
- POST /api/books/books/
- 请求体 ：图书信息
### 2.4 批量导入图书
- POST /api/books/import/
- 请求体 ：上传文件（如 CSV、Excel）
## 3. 借阅相关接口
### 3.1 借阅申请
- POST /api/borrowing/borrowing/
- 请求体 ：
  ```json
  {
    "book_id": "int",
    "user_id": "int",
    "borrow_date": "YYYY-MM-DD",
    "return_date": "YYYY-MM-DD"
  }
   ```
### 3.2 获取借阅记录
- GET /api/borrowing/borrowing/
- 参数 ：筛选（如用户、图书、状态等）
### 3.3 归还图书
- PATCH /api/borrowing/borrowing/{id}/
- 请求体 ：
  ```json
  {
    "actual_return_date": "YYYY-MM-DD"
  }
   ```
  ```
## 4. 认证相关接口
### 4.1 登录
- POST /api-auth/login/
### 4.2 登出
- POST /api-auth/logout/
## 5. 其他说明
- 需要登录的接口需携带认证信息（如 session 或 token）。
- 支持分页、筛选的接口可参考 DRF 标准参数： ?page=1&page_size=10&search=xxx 。
- 错误返回格式统一为：
  ```json
  {
    "detail": "错误信息"
  }
   ```
